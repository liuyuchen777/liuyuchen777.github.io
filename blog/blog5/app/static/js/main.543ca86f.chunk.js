(this.webpackJsonpreserve_master=this.webpackJsonpreserve_master||[]).push([[0],{26:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),a=n(20),i=n.n(a),c=(n(26),n(13)),o=n(12),u=n(9),l=n(10),j=n(4),h=n(0);var b=function(){return Object(h.jsxs)("footer",{children:[Object(h.jsxs)("p",{children:["Author: @",Object(h.jsx)("a",{href:"https://liuyuchen777.github.io",children:"liuyuchen777"})]}),Object(h.jsx)("p",{children:"Copyright \xa9 2021"}),Object(h.jsx)(j.b,{to:"/About",children:"About"})]})},d=n(2);var p=function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("center",{children:[Object(h.jsx)("h4",{children:"Version 1.0.0"}),-1===e.backState?Object(h.jsx)(j.b,{to:"/",children:"Go Back"}):Object(h.jsx)(j.b,{to:"/main",children:"Go Back"})]})})};function f(e){var t=Object(d.e)();return Object(h.jsxs)("div",{className:"header",children:[Object(h.jsx)("h1",{children:"Fukawa Lab"}),"/main"===t.pathname&&void 0!==e.allUser.find((function(t){return t.getID()===e.user}))?Object(h.jsxs)("h2",{children:["Welcome\xa0",e.allUser.find((function(t){return t.getID()===e.user})).getName(),"!"]}):Object(h.jsx)("h2",{children:" "})]})}f.defaultProps={title:"Fukawa Lab"};var O=f;var x=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:e.onFlod,className:"btn btn-block",children:e.day+"("+e.yobi+")"})})};var v=function(e){return Object(h.jsx)("button",{className:"btn2",onClick:e.onClick,style:{backgroundColor:e.color},children:e.text})},m=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={stateList:[e.item.Appoint[0][e.day].slice(0,8),e.item.Appoint[1][e.day].slice(0,8),e.item.Appoint[2][e.day].slice(0,8)]},s.timeList=["8:00","10:00","12:00","14:00","16:00","18:00","20:00","22:00"],s}return Object(l.a)(n,[{key:"colorSet",value:function(e){return-1===this.state.stateList[this.props.week][e]?"white":this.state.stateList[this.props.week][e]===this.props.user?"rgb(134, 184, 224)":"gray"}},{key:"textSet",value:function(e){var t=this;if(-1===this.state.stateList[this.props.week][e])return this.timeList[e]+"\nAvaliable";var n,s=this.props.allUser.find((function(n){return n.id===t.state.stateList[t.props.week][e]}));return n=void 0===s?"stranger":s.getName(),this.timeList[e]+"\n"+n}},{key:"render",value:function(){var e=this,t=[0,1,2,3,4,5,6,7].map((function(t){return Object(h.jsx)(v,{onClick:function(){if(-1===e.state.stateList[e.props.week][t]){var n=e.state.stateList;n[e.props.week][t]=e.props.user,e.setState({stateList:n}),e.props.item.changeAppoint(e.props.week,e.props.day,t,e.props.user)}else if(e.state.stateList[e.props.week][t]===e.props.user){var s=e.state.stateList;s[e.props.week][t]=-1,e.setState({stateList:s}),e.props.item.changeAppoint(e.props.week,e.props.day,t,-1)}},text:e.textSet(t),color:e.colorSet(t)})}));return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{className:"btn3",children:this.props.item.getName()}),"\u2003",t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]]})}}]),n}(s.Component);var g=function(e){var t=Array.from({length:e.el.length},(function(e,t){return t})).map((function(t){return Object(h.jsx)(m,{week:e.week,item:e.el[t],day:e.day,user:e.user,allUser:e.allUser},t.id)}));return Object(h.jsx)("div",{className:"sub-container",children:Object(h.jsx)("ul",{children:t})})};var w=function(){return Object(h.jsx)("button",{className:"btn",children:"Submit"})},k=n(18);var y=Object(d.f)((function(e){var t=Object(s.useState)(""),n=Object(k.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)(""),c=Object(k.a)(i,2),o=c[0],u=c[1];return Object(h.jsxs)("form",{className:"add-form",onSubmit:function(t){t.preventDefault(),console.log(r);var n=e.allUser.find((function(e){return e.getName()===r}));if(void 0===n)e.changeInfo("NO SUCH USER!"),e.history.push("/fail");else if(n.getPasswd()!==o)e.changeInfo("ERROR PASSWORD!"),e.history.push("/fail");else{var s=n.getID();console.log(s),e.changeInfo("LOGIN SUCCESSFUL"),e.changeUser(s),e.history.push("/main")}u("")},children:[Object(h.jsxs)("div",{className:"form-control",children:[Object(h.jsx)("h2",{children:"Username: "}),Object(h.jsx)("input",{type:"text",placeholder:"username",value:r,onChange:function(e){return a(e.target.value)}})]}),Object(h.jsxs)("div",{className:"form-control",children:[Object(h.jsx)("h2",{children:"Password: "}),Object(h.jsx)("input",{type:"password",placeholder:"password",value:o,onChange:function(e){return u(e.target.value)}})]}),Object(h.jsx)("input",{type:"submit",value:"Login",className:"btn4"})]})}));var A=function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("center",{children:[Object(h.jsx)("h2",{children:e.login_info}),Object(h.jsx)(j.b,{to:"/",children:"Go Back"})]})})};var S=Object(d.f)((function(e){return Object(h.jsx)("button",{className:"btn",onClick:function(){e.allFlod(),e.changeUser(-1),e.changeInfo("Hello, Stranger!"),e.history.push("/")},children:"Logout"})}));var N=function(e){return Object(h.jsx)("button",{className:"btn",onClick:e.onClick,children:e.text})};var _=function(e){return Object(h.jsx)("button",{className:"btn5",children:e.text})};function D(e){var t=(e=new Date(e)).getFullYear(),n=e.getMonth()+1,s=e.getDate();return n=n<10?"0"+n:n,s=s<10?"0"+s:s,"".concat(t,"/").concat(n,"/").concat(s)}function U(){var e=D(new Date),t=new Date(e),n=0!==t.getDay()?t.getDay():7;return Array.from(new Array(7),(function(e,s){return D(new Date(t.getTime()-24*(n-s-1)*60*60*1e3))}))}function L(){var e=D(new Date),t=new Date(e),n=0!==t.getDay()?t.getDay():7;return Array.from(new Array(7),(function(e,s){return D(new Date(t.getTime()-24*(n-s-1)*60*60*1e3+6048e5))}))}function C(){var e=D(new Date),t=new Date(e),n=0!==t.getDay()?t.getDay():7;return Array.from(new Array(7),(function(e,s){return D(new Date(t.getTime()-24*(n-s-1)*60*60*1e3+12096e5))}))}var F=function(){function e(t){Object(u.a)(this,e),this.name=t,this.Appoint=new Array(3);for(var n=0;n<this.Appoint.length;n++){this.Appoint[n]=new Array(7);for(var s=0;s<this.Appoint[n].length;s++)this.Appoint[n][s]=new Array(8).fill(-1)}this.Appoint[0][2][2]=8}return Object(l.a)(e,[{key:"getName",value:function(){return this.name}},{key:"getState",value:function(e,t,n){return this.Appoint[e][t][n]}},{key:"changeAppoint",value:function(e,t,n,s){this.Appoint[e][t][n]=s,console.log(this.Appoint)}}]),e}(),I=function(){function e(t,n,s){Object(u.a)(this,e),this.name=t,this.id=n,this.password=s}return Object(l.a)(e,[{key:"getPasswd",value:function(){return this.password}},{key:"getName",value:function(){return this.name}},{key:"getID",value:function(){return this.id}}]),e}(),E=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e){var s;return Object(u.a)(this,n),(s=t.call(this,e)).state={showFlod:new Array(7).fill(!1),user:-1,login_info:"Hello, Stranger!",week_status:0},s.date=[U(),L(),C()],s.week=["\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f","\u65e5"],s.equipment_list=[new F("Atomic Emission Spectronmeter"),new F("Gas Chromatograph"),new F("Size Exclusion Chromatograph")],s.allUser=[new I("liuyuchen",7,"123456"),new I("zhujunyi",8,"123456")],s}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[0,1,2,3,4,5,6].map((function(t){return Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{onFlod:function(){var n=e.state.showFlod;n[t]=!n[t],e.setState({showFlod:n})},day:e.date[e.state.week_status][t],yobi:e.week[t]}),e.state.showFlod[t]?Object(h.jsx)(g,{login_info:e.state.login_info,el:e.equipment_list,day:t,user:e.state.user,allUser:e.allUser,week:e.state.week_status}):""]},t.id)})),n=Object(h.jsx)("div",{}),s=Object(h.jsx)("div",{children:Object(h.jsxs)("center",{children:[Object(h.jsx)("h2",{children:"You Need Login"}),Object(h.jsx)(j.b,{to:"/",children:"Go Back"})]})});return Object(h.jsx)(j.a,{children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(O,{user:this.state.user,allUser:this.allUser}),Object(h.jsx)(d.a,{path:"/",exact:!0,render:function(){return Object(h.jsx)("div",{children:Object(h.jsx)(y,{changeUser:function(t){return e.setState({user:t})},allUser:e.allUser,changeInfo:function(t){return e.setState({login_info:t})}})})}}),Object(h.jsx)(d.a,{path:"/main",exact:!0,render:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:-1===e.state.user?n:Object(h.jsxs)("center",{children:[Object(h.jsx)(N,{text:"<",onClick:function(){e.setState({week_status:0===e.state.week_status?e.state.week_status:e.state.week_status-1})}}),Object(h.jsx)(_,{text:0===e.state.week_status?"This Week":1===e.state.week_status?"Next Week":"Next Next Week"}),Object(h.jsx)(N,{text:">",onClick:function(){e.setState({week_status:2===e.state.week_status?e.state.week_status:e.state.week_status+1})}})]})}),Object(h.jsx)("ul",{children:-1===e.state.user?s:t}),Object(h.jsx)("div",{children:-1===e.state.user?n:Object(h.jsxs)("center",{children:[Object(h.jsx)(w,{}),Object(h.jsx)(S,{allFlod:function(){return e.setState({showFlod:new Array(7).fill(!1)})},changeUser:function(t){return e.setState({user:t})},changeInfo:function(t){return e.setState({login_info:t})}})]})})]})}}),Object(h.jsx)(d.a,{path:"/fail",exact:!0,render:function(){return Object(h.jsx)("div",{children:Object(h.jsx)(A,{login_info:e.state.login_info})})}}),Object(h.jsx)(d.a,{path:"/about",exact:!0,render:function(){return Object(h.jsx)("div",{children:Object(h.jsx)(p,{backState:e.state.user})})}}),Object(h.jsx)(b,{})]})})}}]),n}(r.a.Component);i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.543ca86f.chunk.js.map